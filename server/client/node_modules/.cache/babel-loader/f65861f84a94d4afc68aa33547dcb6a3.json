{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jefferyreynolds/trilogy_hackathon/f25/client/src/_components/Login.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 75%;\\n  margin: 0 auto 25px 40px; /* Eyeballed it */\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 275px;\\n  margin: 0 auto 100px;\\n  padding: 0 0 0 15px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding-top: 75px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styled from 'styled-components'; // Styled components\n\nimport Card from '../_styled/Card';\nimport ErrorCard from '../_styled/ErrorCard';\nimport { Input, Label } from '../_styled/Input';\nimport Button from '../_styled/Button'; // Modules\n\nimport bcsAPIClient from '../http/bcsApiClient'; // Assets\n\nimport { ReactComponent as BCSLogo } from \"@svgr/webpack?-svgo,+ref!../assets/bcs-logo-solid.svg\";\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+ref!../assets/logo.svg\";\nimport { BCS_TOKEN, BCS_USER_ID } from '../enum/localStorageKeys';\nvar Container = styled.main(_templateObject());\nvar LogoContainer = styled.div(_templateObject2());\nvar BCSLogoContainer = styled.div(_templateObject3());\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      creds: {\n        email: '',\n        password: ''\n      },\n      error: ''\n    };\n\n    _this.handleInputChange = function (name, value) {\n      var creds = _objectSpread({}, _this.state.creds);\n\n      creds[name] = value;\n\n      _this.setState({\n        creds: creds\n      });\n    };\n\n    _this.handleError = function (error) {\n      return _this.setState({\n        error: error\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var state = this.state,\n          props = this.props;\n      console.log({\n        props: props\n      });\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(LogoContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        width: \"275px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(Card, {\n        margin: \"0 auto\",\n        width: \"400px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(BCSLogoContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(BCSLogo, {\n        width: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        onSubmit:\n        /*#__PURE__*/\n        function () {\n          var _ref = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(e) {\n            var response;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    e.preventDefault(); // Detect missing fields and notify user of error before submitting\n\n                    if (!(Object.keys(state.creds).map(function (key) {\n                      return state.creds[key];\n                    }).filter(function (value) {\n                      return !value;\n                    }).length > 0)) {\n                      _context.next = 3;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", _this2.handleError('Not all fields are valid. Please check the inputs above and try again.'));\n\n                  case 3:\n                    _context.next = 5;\n                    return bcsAPIClient().post('/login', state.creds).catch(function (error) {\n                      console.error(error);\n\n                      _this2.handleError('Could not connect to the Bootcampspot API. Please check your network connectivity and try again.');\n                    });\n\n                  case 5:\n                    response = _context.sent;\n\n                    if (response.data.success) {\n                      _context.next = 8;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", _this2.handleError(\"Authentication Failed: \".concat(response.data.errorCode)));\n\n                  case 8:\n                    localStorage.setItem(BCS_TOKEN, response.data.authenticationInfo.authToken);\n                    localStorage.setItem(BCS_USER_ID, response.data.authenticationInfo.userId);\n                    props.checkToken().then(function () {\n                      return props.history.push('/');\n                    });\n\n                  case 11:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, {\n        id: \"email\",\n        name: \"email\",\n        type: \"text\",\n        placeholder: \"BCS Email\",\n        onChange: function onChange(e) {\n          return _this2.handleInputChange(e.target.name, e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Label, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        id: \"password\",\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"BCS Password\",\n        onChange: function onChange(e) {\n          return _this2.handleInputChange(e.target.name, e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Login\"))), state.error && React.createElement(ErrorCard, {\n        width: \"400px\",\n        margin: \"25px auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, state.error));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/jefferyreynolds/trilogy_hackathon/f25/client/src/_components/Login.js"],"names":["React","Component","Fragment","withRouter","styled","Card","ErrorCard","Input","Label","Button","bcsAPIClient","BCS_TOKEN","BCS_USER_ID","Container","main","LogoContainer","div","BCSLogoContainer","Login","state","creds","email","password","error","handleInputChange","name","value","setState","handleError","props","console","log","e","preventDefault","Object","keys","map","key","filter","length","post","catch","response","data","success","errorCode","localStorage","setItem","authenticationInfo","authToken","userId","checkToken","then","history","push","target"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\n\n// Styled components\nimport Card from '../_styled/Card';\nimport ErrorCard from '../_styled/ErrorCard';\nimport { Input, Label } from '../_styled/Input';\nimport Button from '../_styled/Button';\n\n// Modules\nimport bcsAPIClient from '../http/bcsApiClient';\n\n// Assets\nimport { ReactComponent as BCSLogo } from '../assets/bcs-logo-solid.svg';\nimport { ReactComponent as Logo } from '../assets/logo.svg';\nimport { BCS_TOKEN, BCS_USER_ID } from '../enum/localStorageKeys';\n\nconst Container = styled.main`\n  padding-top: 75px;\n`;\n\nconst LogoContainer = styled.div`\n  width: 275px;\n  margin: 0 auto 100px;\n  padding: 0 0 0 15px;\n`;\n\nconst BCSLogoContainer = styled.div`\n  width: 75%;\n  margin: 0 auto 25px 40px; /* Eyeballed it */\n`;\n\nclass Login extends Component {\n  state = {\n    creds: {\n      email: '',\n      password: '',\n    },\n    error: '',\n  }\n\n  handleInputChange = (name, value) => {\n    const creds = { ...this.state.creds };\n    creds[name] = value;\n    this.setState({ creds });\n  }\n\n  handleError = error => this.setState({ error });\n\n  render() {\n\n    const { state, props } = this;\n    console.log({ props })\n\n    return (\n      <Container>\n        \n        <LogoContainer>\n          <Logo width=\"275px\" />\n        </LogoContainer>\n\n        <Card\n          margin=\"0 auto\"\n          width=\"400px\"\n        >\n          <BCSLogoContainer>\n            <BCSLogo width=\"100%\" />\n          </BCSLogoContainer>\n\n          <form onSubmit={ async e => {\n            e.preventDefault();\n\n            // Detect missing fields and notify user of error before submitting\n            if (Object.keys(state.creds).map(key => state.creds[key]).filter(value => !value).length > 0) {\n              return this.handleError('Not all fields are valid. Please check the inputs above and try again.');\n            }\n\n            const response = await bcsAPIClient().post('/login', state.creds).catch(error => {\n              console.error(error);\n              this.handleError('Could not connect to the Bootcampspot API. Please check your network connectivity and try again.')\n            });\n\n            if (!response.data.success) return this.handleError(`Authentication Failed: ${response.data.errorCode}`);\n\n            localStorage.setItem(BCS_TOKEN, response.data.authenticationInfo.authToken);\n            localStorage.setItem(BCS_USER_ID, response.data.authenticationInfo.userId);\n\n            props.checkToken().then(() => props.history.push('/'));\n          }}>\n\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n              placeholder=\"BCS Email\"\n              onChange={ e => this.handleInputChange(e.target.name, e.target.value) }\n            />\n\n            <Label htmlFor=\"password\">Password</Label>\n            <Input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"BCS Password\"\n              onChange={ e => this.handleInputChange(e.target.name, e.target.value) }\n            />\n\n            <Button type=\"submit\">Login</Button>\n\n          </form>\n\n        </Card>\n\n        { state.error && <ErrorCard width=\"400px\" margin=\"25px auto\">{ state.error }</ErrorCard> }\n\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}